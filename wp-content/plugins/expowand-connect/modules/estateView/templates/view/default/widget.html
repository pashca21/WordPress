<div id="ff-default" class="FFestateview-default-overview" data-width="300">


	<form action="{{ search.path }}" id="FFestateview-default-overview-search-form">
		<div class="FFestateview-default-overview-search" >
			
			<!-- get estate main fields -->
			<div class="FFestateview-default-overview-search-primary">
				<div>
					<div class="FFestateview-default-overview-search-primary-type">							
						<label for="schema" ><i class="flaticon-home" style="color:{{color.primary}}"></i></label>	
						<select name="schema" class="ff-autosubmit chosen-select" data-placeholder="Welche Immobilie suchen Sie" class="select"  >
							{% if search.search.schema == "" %}
								<option value="" selected>Alle Immobilien</option>
							{% else %}
								<option value="" >Alle Immobilien</option>
							{% endif %}
							<optgroup label="Kauf">
								{% for key, schema in mapping.schema %}
									{% if schema.varity == 'purchase' %}
										{% if search.search.schema == key %}
											<option value="{{ key }}" selected>{{ schema.caption }}</option>
										{% else %}	
											<option value="{{ key }}">{{ schema.caption }}</option>
										{% endif %}	
									{% endif %}	
								{% endfor %}
							</optgroup>
							<optgroup label="Miete">
								{% for key, schema in mapping.schema %}
									{% if schema.varity == 'rent' %}
										{% if search.search.schema == key %}
											<option value="{{ key }}" selected>{{ schema.caption }}</option>
										{% else %}	
											<option value="{{ key }}">{{ schema.caption }}</option>
										{% endif %}	
									{% endif %}	
								{% endfor %}
							</optgroup>
						</select>	
					</div>
					<div class="FFestateview-default-overview-search-primary-price">						
						<label for="price" ><i class="flaticon-coins" style="color:{{color.primary}}"></i></label>	
						<input name="price" placeholder="z.B. 200.000â‚¬"/>
					</div>	
					<div class="FFestateview-default-overview-search-primary-location">					
						<label for="location" ><i class="flaticon-location" style="color:{{color.primary}}"></i></label>	
						<input id="autocomplete" placeholder="z.B. PLZ / Ort"  title="location" value="{{ search.search.location }}" name="location" type="text" />
						<input type="hidden" name="lat" value="{{ search.search.lat }}" id="lat" />
						<input type="hidden" name="lng" value="{{ search.search.lng }}"id="lng" />
					</div>
					<div class="FFestateview-default-overview-search-submit">
						<button class="FFestateview-default-overview-search-submit-button ff-autoclick" type="submit">Suchen</button>
					</div>
				</div>				
			</div>	
			
			<!-- get estate specific fields -->
			{% for key,field in mapping.search %}
				{% if search.search.schema == key %}
					<div class="FFestateview-default-overview-search-secondary">	
						{% for key1, field_data in field %}
							
							<!-- standard input -->					
							{% if field_data.type == 'text' %}
								<div class="ff-input-text">
									<label for="{{ key1 }}"> {{ field_data.caption}}</label>
									<input id="{{ key1 }}" type="text" value="{%for skey, svalue in search.search%}{% if skey == key1 %}{{svalue}}{% endif %}{% endfor %}" name="{{ key1 }}" />
								</div>
							{% endif %}
							
							<!-- Checkbox -->
							{% if field_data.type == 'checkbox' %}
								<div class="">
									<label for="{{ key1 }}">{{ field_data.caption}}</label>
									<div class="ff-input-checkbox">
									  <input type="checkbox"  id="{{ key1 }}" name="{{ key1 }}" value="{%for skey, svalue in search.search%}{% if skey == key1 %}{{svalue}}{% endif %}{% endfor %}" class="ff-input" />
									  <span class="round-btn"></span>
									</div>
								</div>
							{% endif %}
							
							
							<!-- yes no -->
							{% if field_data.type == 'yesno' %}
							
							
								<!-- check if field is prefild -->
								{% set check = "" %} 	
								{%for skey, svalue in search.search%}
									{% if skey == key1 %}
										{% if svalue == "ja" %}
											{% set check = "ff-yes" %} 
										{% elseif svalue == "nein" %}
											{% set check = "ff-no" %} 
										{% endif %}
									
									{% endif %}
								{% endfor %}

								<div>
									<label for="{{ key1 }}">{{ field_data.caption}}</label>
									<div class="ff-input-yesno"> 
										<div  id="{{check}}">
											<label data-type="ff-yes" for="yes"></label>
											<label data-type="" for="maybe"></label>
											<label data-type="ff-no" for="no"></label>
										</div>
										<div>
											<input data-type="ff-yes" type="radio" value="ja" name="{{ key1 }}" {% if check == "ff-yes"%}checked="checked"{% endif %}/>
											<input data-type="" type="radio" value="" name="{{ key1 }}" />
											<input data-type="ff-no" type="radio" value="nein" name="{{ key1 }}" {% if check == "ff-no"%}checked="checked"{% endif %} />
										</div>	
									</div>
								</div>
							{% endif %}
							
	
							<!-- number -->
							{% if field_data.type == 'number' %}

							
								{%set value_number = "" %}
								{%for skey, svalue in search.search%}
									{% if skey == key1 %}
										{%set value_number = svalue %}
									{% endif %}
								{% endfor %}
								<div>
									<label for="{{ key1 }}">{{ field_data.caption}}</label>
									<div class="ff-input-number">
									  	{% if field_data.prefix == "from" %}
											<span>ab</span>
										{% elseif field_data.prefix == "to" %}
											<span>bis</span>
										{% endif %}
									  <input type="number" min="0" max="999"  id="{{ key1 }}" step="1" name="{{ key1 }}" value="{% if value_number %}{{value_number}}{% else %}0{% endif %}">
									  <span>{{field_data.unit}}</span>
									</div>
								</div>
							{% endif %}
							
							<!-- number and unit -->								
							{% if field_data.type == 'currence' or field_data.type == 'area' %}
								<div>
									<label for="{{ key1 }}">{{ field_data.caption}}</label>
									<div class="ff-input-currency">
										
										{% if field_data.prefix == "from" %}
											<span>ab</span>
										{% elseif field_data.prefix == "to" %}
											<span>bis</span>
										{% endif %}
										
										<input id="{{ key1 }}" value="{%for skey, svalue in search.search%}{% if skey == key1 %}{{svalue}}{% endif %}{% endfor %}" type="number" name="{{ key1 }}" />
										<span>{{field_data.unit}}</span>
									</div>
								</div>
							{% endif %}
							
							
							<!-- select -->
							{% if field_data.type == 'option' %}
								<div>
									<label for="{{ key1 }}">{{ field_data.caption}}</label>
									<select class="chosen-select"  id="{{ key1 }}"  name="{{ key1 }}">
										<option value="" selected >keine Auswahl</option>
										{%for skey, svalue in search.search%}
											{% if skey == key1 %}
												{% for key, val in field_data.option %}
													{% if key == svalue%}
														<option value="{{key}}" selected >{{val}}</option>
													{% else %}	
														<option value="{{key}}">{{val}}</option>
													{% endif %}	
												{% endfor %}
											{% endif %}
										{% endfor %}
									</select>
								</div>
							{% endif %}
						{% endfor %}
					</div>	
				{% endif %}	
			{% endfor %}

		</div>
		
		<!-- hidden fields -->
		<div class="FFestateview-default-overview-search-hidden">
			<input name="ffpage" value="1" />
		</div>
			
	</form>

</div>


